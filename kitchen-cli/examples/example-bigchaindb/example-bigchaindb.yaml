application:
  title: Example application
  theme: bootswatch-solar
  collections:
    - name: fruits
      type: bigchaindb
      fields:
        - name: name
          title: Fruit Name
          type: string
          required: true
          exportable: true
        - name: _transactionId
          title: Transaction ID
          type: string
          input: read-only
          show_in_insert_form: false
          show_in_update_form: false
        - name: _transactionStatus
          title: Transaction Status
          type: string
          input: read-only
          show_in_insert_form: false
          show_in_update_form: false
  queries:
    - name: fruit_list
      collection: fruits
      filter: '{}'
      options: '{}'
    - name: fruits_null
      collection: fruits
      find_one: true
      filter: '{"_id":null}'
      options: '{}'
    - name: fruit
      collection: fruits
      find_one: true
      filter: '{"_id":":fruitId"}'
      options: '{}'
  free_zone:
    type: zone
    components:
      - name: main_menu
        type: menu
        items:
          - title: Home page
            route: home
          - title: Fruits
            route: fruits
        object_type: menu
    pages:
      - name: home
        type: page
        components:
          - name: home_jumbotron
            type: jumbotron
            title: Example application
            text: >-
              <b>This <a href="https://www.meteor.com"
              target="_blank">Meteor</a> application is made with <a
              href="http://www.meteorkitchen.com"
              target="_blank">meteor-kitchen</a> without manual coding.</b><br
              />It demonstrates how to use <a href="https://www.bigchaindb.com/"
              target="_blank">BigchainDB</a> database with meteor
              application.<br />Source code (input file for generator) is <a
              href="https://github.com/perak/kitchen-examples/tree/master/example-bigchaindb"
              target="_blank">here</a>.
            button_title: Continue &raquo;
            button_route: fruits
            object_type: jumbotron
      - name: fruits
        type: page
        components:
          - name: view
            type: data_view
            title: Fruits
            query_name: fruit_list
            page_size: 20
            insert_route: fruits.insert
            details_route: fruits.details
            details_route_params:
              - name: fruitId
                value: this._id
            edit_route_params:
              - name: fruitId
                value: this._id
            object_type: data_view
        pages:
          - name: details
            type: page
            components:
              - name: form
                type: form
                title: Fruit Details
                query_name: fruit
                mode: read_only
                close_route: fruits
                back_route: fruits
                object_type: form
            route_params:
              - fruitId
          - name: insert
            type: page
            components:
              - name: form
                type: form
                title: New Fruit
                query_name: fruits_null
                mode: insert
                submit_route: fruits
                cancel_route: fruits
                object_type: form
  copy_files:
    - source_content: |
        {
            "bigchaindb": {
                "url": "http://localhost:9984/api/v1/",
                "eventsUrl": "ws://0.0.0.0:9985/api/v1/streams/valid_transactions",
                "appId": "",
                "appKey": "",
                "namespace": "example-bigchaindb"
            }
        }
      dest: SETTINGS_DIR/settings.json

